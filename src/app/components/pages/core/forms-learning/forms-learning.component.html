<div class="learning-content">
  <h2>LES FORMULAIRES</h2>

  <mat-tab-group dynamicHeight mat-stretch-tabs="true" mat-align-tabs="middle" color="warn">
    <mat-tab label="Vue d'ensemble">
      <div class="example-small-box mat-elevation-z4">
        <app-learn-section>
          <h3 title0>Pour commencer</h3>
          <div intro class="overview-content">
            <p>Les formulaires Angular sont une partie essentielle du développement d'applications web avec le framework Angular. Ils permettent de récupérer et de valider les données entrées par l'utilisateur par plusieurs méthodes, de manière efficace et structurée.</p>
            <p>Les formulaires sont extrêmement polyvalents et peuvent être utilisés dans de nombreux cas d'utilisation. Les exemples les plus courants étant :</p>
            <ul>
              <li>les formulaires d'inscription/connexion utilisateur</li>
              <p>Afin de recueillir les informations des utilisateur, comme le nom, l'email, le mot de passe, etc. Il peut inclure des validations comme des champs obligatoires, des correspondances pour le mot de passe ou de format d'email.</p>

              <li>les formulaires de contact</li>
              <p>Pour pemettre aux utilisateur d'envoyer des messages ou des requêtes de support</p>

              <li>les formulaires de paiement</li>
              <p>Un formulaire complexe pour saisir les informations de paiement, comme le numéro de carte de crédit, la date d'expiration, et le code CVV. Il nécessite une validation rigoureuse et stricte qui demande régulièrement l'intégration d'API de paiement comme Paypal.</p>

              <li>les formulaires de recherche</li>
              <p>Permettre aux utilisateurs de saisir des critères de recherche et filtrer les résultats en fonctions de ces critères</p>
            </ul>
            <p>Les formulaires Angular offrent une grande flexibilité pour s'accorder au mieux aux besoins des développeurs. Dans cette section nous verrons comment s'orienter vers le bon type de formulaires et les principales différences entre ceux-ci.</p>
          </div>
          <img class="overview-img" img0 src="/img/forms.jpg" alt="forms">

          <h3 title1>Choisir une approche</h3>
          <div content1 class="overview-content">
            <p>Angular propose deux types principaux de formulaires :</p>
            <ul>
              <li>Les formulaires basés sur les modèles (Template-driven forms)</li>
              <li>Les formulaires réactifs (Reactive forms)</li>
            </ul>
            <p>Bien que la finalité reste identique pour les deux types, leurs utilisations diffèrent et ont chacun des avantages et des inconvénients.</p>

            <h4>Comparatif</h4>
            <table tab mat-table [dataSource]="dataSource" class="mat-elevation-z8">
              <ng-container matColumnDef="criteria">
                <th mat-header-cell *matHeaderCellDef> Critères : </th>
                <td mat-cell *matCellDef="let element"> {{element.criteria}} </td>
              </ng-container>

              <ng-container matColumnDef="reactive">
                <th mat-header-cell *matHeaderCellDef> Réactif </th>
                <td mat-cell *matCellDef="let element"> {{element.reactive}} </td>
              </ng-container>

              <ng-container matColumnDef="template">
                <th mat-header-cell *matHeaderCellDef> Modèle </th>
                <td mat-cell *matCellDef="let element"> {{element.template}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

          </div>


        </app-learn-section>
      </div>
    </mat-tab>




    <mat-tab label="Basé du modèle">
      <div class="example-small-box mat-elevation-z4">
        <app-learn-section>
          <h3 title1>Les formulaires basés sur modèles</h3>
          <h4 subtitle1>1. Définition</h4>
          <div content1 class="overview-content">
            <p>Un formulaire basé sur modèle (ou Template-driven) est un type de formulaire où la majeure partie de la logique est définie dans le template HTML. Cette approche est intuitive et simple à mettre en oeuvre pour des formulaires de petite à moyenne complexité.</p>
            <p>Ce type de formulaire est une excellente option pour les applications avec des formulaires simples à moyen et pour les développeurs débutants en Angular. Ils offrent une approche intuitive et moins verbeuse, cependant ils peuvent devenir limités et difficiles à gérer dans le cas de validations dynamiques ou d'intéractions conditionnelles.</p>
            <p>Dans ce cas, il est recommandé de plutôt utiliser les formulaires réactifs (voir section suivante) qui serait une meilleure solution en raison de leur flexibilité et de leur capacité à gérer des cas d'utilisation avancés.</p>
          </div>
          <img class="overview-img form-example" img1 src="/img/form-ex.png" alt="form-types">
          <div subcontent1>
            <p>Avec les template Angular, vous pouvez construire n'importe quel type de formulaire. Dans cette section nous verrons comment créer ce type de formulaire et les notions associées. </p>
          </div>
          <h4 subtitle2>2. Implémentation</h4>
          <div content2>
            <div [innerHTML]="tplCodeExample | safeHtml"></div>


          </div>

          <h4 subtitle3>3. Avantages et inconvénients</h4>
          <div content3>
            <h4>Les avantages sont :</h4>
            <ol>
              <li>Simplicité et facilité d'apprentissage</li>
              <p>Idéal pour les débutants en Angular car il repose principalement sur la syntaxe HTML et les directives Angular. La logique du formulaire est écrite directement dans le template, ce qui le rend plus intuitif et facile à comprendre.</p>
              <li>Moins de code TypeScript</li>
              <p>Nécessite moins de code dasn le composant TypeScript. La plupart de la logique est gérée dans le template. Réduit la complexité du fichier TypeScript du composant rendant plus facile sa maintenance.</p>
              <li>Liaison de données bidirectionnelle</li>
              <p>Utilise <b>ngModel</b> pour la liaison de données bidirectionnelle, ce qui facilite la synchronisation des valeurs du formulaire avec le modèle de données du composant.</p>
              <li>Validation intuitive</li>
              <p>Les directives de validation comme <b>required</b>, <b>minlength</b> et <b>maxlenght</b> sont directement utilisées dans le template HTML, rendant les règles de validation plus évidente à la lecture et facile à comprendre.</p>
              <li>Moins verbeux</li>
              <p>Pour les formulaires simples, ils peuvent être moins verbeux que les formulaires réactifs, car il y a moins de configuration et de code nécessaire.</p>
            </ol>

            <h4>Maintenant les inconvénients :</h4>
            <ol>
              <li>Difficultés de gestion pour les formulaires complexes</li>
              <p>Pour les formulaires complexes, ou dynamiques, la gestion du template peut devenir difficile et gênante. Moins adapté pour de scénarios où le formulaire doit être manipulé de manière dynamique ou conditionnelle.</p>
              <li>Validation limitées et moins flexible</li>
              <p>La validation est moins flexible comparée aux formulaires réactifs dû au manque de dynamisme. Il est plus difficle d'implémenter des validations conditionnelles ou personnalisées. Dans les cas de validations complexes, elle requiert souvent d'utiliser des solutions de "bricolage", qui rendent le code moins propre et plus difficile à maintenir.</p>
              <li>Tests unitaires moins pratiques</li>
              <p>Généralement plus difficile à tester de manière isolée, car la logique est beaucoup liée au template HTML. Il y a également moins de strucutre pour les tests unitaires, ce qui peut compliquer la mise en place de tests complets et efficaces.</p>
              <li>Performances</li>
              <p>Pour les très grands formulaires, l'utilisation répétée de <b>ngModel</b> et autres directives peut avoir un impact sur les performances en raison de la surcharge de liaison de données bidirectionnelle.</p>
              <li>Moins de contrôle sur l'état</li>
              <p>Les développeurs ont moins de contrôle programmatique sur l'état du formulaire. La gestion de l'état et des erreurs de validations peut-être moins explicite et moins évident à identifier.</p>
            </ol>
          </div>
        </app-learn-section>
      </div>
    </mat-tab>




    <mat-tab label="Formulaire réactif">
      <div class="example-small-box mat-elevation-z4">
        <app-learn-section>
          <h3 title>Les formulaires template</h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum nec ullamcorper ante. Donec eget velit non libero sollicitudin dapibus a eu nisi. Phasellus eget turpis viverra, mollis purus eget, placerat metus. Fusce tincidunt arcu in viverra mattis. Proin in malesuada eros, ac condimentum leo. Praesent nibh purus, varius sit amet aliquam in, cursus nec neque. Maecenas mi est, euismod vitae scelerisque vitae, imperdiet sed felis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam laoreet magna ut nulla congue, vitae dictum dolor dignissim. Mauris et ornare dui, ut sagittis mauris. Phasellus sem leo, maximus at hendrerit a, auctor in turpis. Pellentesque arcu nisl, lacinia id tellus lacinia, imperdiet posuere odio. Nullam vel pulvinar sem. Mauris vitae cursus nisi, lacinia porttitor sapien. Aliquam erat volutpat.</p>

        </app-learn-section>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
